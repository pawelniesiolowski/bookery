{% extends 'base.html' %}

{% block subtitle %}{{ subtitle|safe }}{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-4 offset-md-4">
            <form method="POST" {% if subtitle == 'Dodaj książkę' %} id="bookery-save-book-action" data-get="{{ url_for('catalog.check_existing', title='xxx') }}" {% endif %}>
                {{ form.hidden_tag() }}

                <div class="form-group">
                    <div class="form-row">
                        <div class="col-md-12">
                            {{ form.title.label }}<br>
                            {{ form.title(class='form-control') }}
                            {% if form.errors %}
                                <div>
                                    {% for error in form.errors.title %}
                                        <span class="form-error">{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% endif %}
                            <div id="bookery-book-form-title" class="disabled">
                                <span class="form-error">Tytuł jest wymagany</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="form-row">
                        <div class="col-md-6">
                            {{ form.authors.label }}<br>
                            {{ form.authors(class='form-control') }}
                            {% if form.errors %}
                                <div>
                                    {% for error in form.errors.authors %}
                                        <span class="form-error">{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div class="col-md-6">
                            {{ form.publication_year.label }}<br>
                            {{ form.publication_year(class='form-control') }}
                            {% if form.errors %}
                                <div>
                                    {% for error in form.errors.publication_year %}
                                        <span class="form-error">{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="form-row">
                        <div class="col-md-6">
                            {{ form.isbn.label }}<br>
                            {{ form.isbn(class='form-control') }}
                            {% if form.errors %}
                                <div>
                                    {% for error in form.errors.isbn %}
                                        <span class="form-error">{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div class="col-md-6">
                            {{ form.price.label }}<br>
                            {{ form.price(class='form-control') }}
                            {% if form.errors %}
                                <div>
                                    {% for error in form.errors.price %}
                                        <span class="form-error">{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {{ form.submit() }}
            </form>
        </div>
    </div>
{% endblock %}

{% block js %}
    {{ super() }}
    <script src="{{ url_for('static', filename='js/modal.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modal_content_creator.js') }}"></script>
    <script src="{{ url_for('static', filename='js/create_book_action.js') }}"></script>
{% endblock %}
